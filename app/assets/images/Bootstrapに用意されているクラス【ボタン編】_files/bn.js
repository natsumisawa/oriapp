var AdMaxBanner;!function(t){if("undefined"==typeof t.lock){t.lock=!0;var e=function(){function t(){this.tag_count=0,this.tag_max=8,this.retry_count=0,this.retry_limit=10,this.document_url="",this.url="",this.referrer="",this.inner_width=-1,this.inner_height=-1;try{this.inner_width=window.innerWidth,this.inner_height=window.innerHeight}catch(t){}try{this.document_url=encodeURIComponent(document.URL)}catch(t){}try{this.url=encodeURIComponent(parent.document.URL),this.referrer=encodeURIComponent(parent.document.referrer)}catch(t){this.url=encodeURIComponent(document.referrer),this.referrer=""}this.user_id="","undefined"!=typeof ninja_adm_user_id&&(this.user_id=encodeURIComponent(ninja_adm_user_id))}return t.prototype.call=function(){var t=this.build_endpoint("/st/sync.js");this.add_script(t),this.tag_search()},t.prototype.add_script=function(t,e){var n=document.createElement("script");n.type="text/javascript",n.charset="UTF-8",n.src=t,"undefined"!=typeof e&&(n.onload=e);var r=document.getElementsByTagName("head")[0];return r.insertBefore(n,r.firstChild),n},t.prototype.get_position=function(t){var e=0,n=0;do e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent;while(t);return[n,e]},t.prototype.build_endpoint=function(t){var e="adm.shinobi.jp";return"undefined"!=typeof admax_domain&&(e=admax_domain),"http://"+e+t},t.prototype.build_url=function(t,e,n){var r="";return r+=this.build_endpoint("/a/"),r+=t,r+="?x="+n[0],r+="&y="+n[1],r+="&url="+this.url,r+="&referrer="+this.referrer,r+="&amoad="+e,r+="&user_id="+this.user_id,r+="&du="+this.document_url,r+="&iw="+this.inner_width,r+="&ih="+this.inner_height},t.prototype.render=function(t,e,n,r){function i(i){var a=o.get_position(t),d=o.build_url(e,i,a),s='<iframe src="'+d+'" width="'+n+'" height="'+r+'" scrolling="no" noresize frameborder="0" allowtransparency="true" style="display:block;"></iframe>';t.setAttribute("style","display:inline-block;vertical-align: bottom;"),t.innerHTML=s}function a(){AdMaxAmoad.Bid.call_ads(d,i)}var o=this,d=t.getAttribute("data-amoad-sid");if(d)if("undefined"==typeof AdMaxAmoad){var s=this.build_endpoint("/st/amoad.js");o.add_script(s,a)}else a();else i("0")},t.prototype.get_tags=function(){var t=[];if(document.getElementsByClassName)t=document.getElementsByClassName("admax-banner");else for(var e=document.getElementsByTagName("span"),n=e.length,r=0;n>r;r++){var i=e[r];"admax-banner"==i.className&&t.push(i)}return t},t.prototype.tag_search=function(){function t(){if(!(e.retry_count++>e.retry_limit)){for(var t=e.get_tags(),n=t.length,r=0;n>r;r++){if(e.tag_count>=e.tag_max)return;var i=t[r],a=i.getAttribute("data-admax-id"),o=i.getAttribute("data-width"),d=i.getAttribute("data-height");if(a&&o&&d){var s=i.getAttribute("data-admax-index");s||(e.tag_count++,i.setAttribute("data-admax-index",e.tag_count),e.render(i,a,o,d))}}e.tag_search()}}var e=this;setTimeout(t,500)},t}();t.Request=new e,t.Request.call()}}(AdMaxBanner||(AdMaxBanner={}));